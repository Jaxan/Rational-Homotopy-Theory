
\chapter{The main equivalence}

In this section we aim to prove that the homotopy theory of rational spaces is the same as the homotopy theory of cdga's over $\Q$. Before we prove the equivalence, we will show that $A$ and $K$ form a Quillen pair. This already provides an adjunction between the homotopy categories. Besides the equivalence of the homotopy categories we will also investigate homotopy groups on a cdga directly. The homotopy groups of a space will be dual to the homotopy groups of the associated cdga.

We will prove that $A$ preserves cofibrations and trivial cofibrations. We only have to check this fact for the generating (trivial) cofibrations in $\sSet$. Note that the contravariance of $A$ means that a (trivial) cofibrations should be sent to a (trivial) fibration.

\begin{lemma}
	$A(i) : A(\Delta[n]) \to A(\del \Delta[n])$ is surjective.
\end{lemma}
\begin{proof}
	Let $\phi \in A(\del \Delta[n])$ be an element of degree $k$, hence it is a map $\del \Delta[n] \to \Apl^k$. We want to extend this to the whole simplex. By the fact that $\Apl^k$ is Kan and contractible we can find a lift $\overline{\phi}$ in the following diagram showing the surjectivity.
	\begin{displaymath}
		\xymatrix {
		\del \Delta[n] \ar[r]^\phi \arcof[d]^i & \Apl^k \\
		\Delta[n] \ar@{-->}[ru]_{\overline{\phi}}
		}
	\end{displaymath}
\end{proof}

\begin{lemma}
	$A(j) : A(\Delta[n]) \to A(\Lambda^k_n)$ is surjective and a quasi isomorphism.
\end{lemma}
\begin{proof}
	As above we get surjectivity from the Kan condition. To prove that $A(j)$ is a quasi isomorphism we pass to the singular cochain complex and use that $C^\ast(j) : C^\ast(\Delta[n]) \we C^\ast(\Lambda^n_k)$ is a quasi isomorphism. Consider the following diagram and conclude that $A(j)$ is surjective and a quasi isomorphism.
	\begin{displaymath}
		\xymatrix {
		A(\Delta[n]) \ar[r]^{A(j)} \arwe[d]^\oint & A(\Lambda^k_n) \arwe[d]^\oint \\
		C^\ast(\Delta[n]) \ar[r]^{C^\ast(j)} & C^\ast(\Lambda^k_n)
		}
	\end{displaymath}
\end{proof}

Since $A$ is a left adjoint, it preserves all colimits and by functoriality it preserves retracts. From this we can conclude the following corollary.

\begin{corollary}
	$A$ preserves all cofibrations and all trivial cofibrations and hence is a left Quillen functor.
\end{corollary}

\begin{corollary}
	$A$ and $K$ induce an adjunction on the homotopy categories:
	$$ LA : \Ho(\sSet) \leftadj \opCat{\Ho(\CDGA)} : RK. $$
\end{corollary}

The induced adjunction in the previous corollary is given by $LA(X) = A(X)$ for $X \in \sSet$ (note that every simplicial set is already cofibrant) and $RK(Y) = K(Y^{cof})$ for $Y \in \CDGA$. By the use of minimal models, and in particular the functor $M$. We get the following adjunction between $1$-connected objects:

\Corollary{minimal-model-adjunction}{
	There is an adjunction:
	$$ M : \Ho(\sSet_1) \leftadj \opCat{\Ho(\text{Minimal models}^1)} : RK, $$
	where $M$ is given by $M(X) = M(A(X))$ and $RK$ is given by $RK(Y) = K(Y)$ (because minimal models are always cofibrant).
}


\section{Homotopy groups}
The homotopy groups of cdga's are precisely the dual of the homotopy groups of their associated spaces.

\Theorem{cdga-dual-homotopy-groups}{
	Let $X$ be a cofibrant augmented cdga, then
	$$ \pi_n(KX) \iso \pi^n(X)^\ast. $$
}
\Proof{
	First note that $KX$ is a Kan complex (because it is a simplicial group). Using the homotopy adjunction and the lemma above we get:
	\begin{align*}
		\pi_n(KX) &= [S^n, KX]      \\
		          &\iso [X, A(S^n)] \\
		          &\iso [X, A(n)]   \\
		          &\iso [X, V(n)]   \\
		          &\iso \pi^n(X)^\ast
	\end{align*}
	\todo{Prove all isomorphisms.}
	\todo{Group structure?}
}

We get a particularly nice result for minimal cdga's, because the functor $Q$ is the left inverse of the functor $\Lambda$ and the differential is decomposable.

\Corollary{minimal-cdga-homotopy-groups}{
	For a minimal cdga $X = \Lambda V$ we get
	$$ \pi_n(KX) = {V^n}^\ast. $$
}

\Corollary{minimal-cdga-EM-space}{
	For a cdga with one generator $X = \Lambda(v)$ with $d v = 0$ and $\deg{v} = n$. We conclude that $KX$ is a $K(\k^\ast, n)$-space.
}


\section{The Eilenberg-Moore theorem}
Before we prove the actual equivalence, we will discuss a theorem of Eilenberg and Moore. The theorem tells us that the singular cochain complex of a pullback along a fibration is nice in a particular way. The theorem and its proof (using spectral sequences) can be found in \cite[Theorem 7.14]{mccleary}.

\Theorem{eilenberg-moore}{
	Given the following pullback diagram of spaces
	\[ \xymatrix{
		E_f \ar[r] \xypb \ar[d] & E \arfib[d]^-{p} \\
		X \ar[r]^-{f} & B
	} \]
	where $p$ is a fibration, all spaces are $0$-connected and $B$ is $1$-connected. The cohomology with coefficients in a field $\k$ can be computed by an isomorphism
	\[ \Tor_{C^\ast(B; \k)}(C^\ast(X; \k), C^\ast(E; \k)) \tot{\iso} H(C^\ast(E_f; \k)). \]
}

Now the Tor group appearing in the theorem can be computed via a \emph{bar construction}. The explicit construction for cdga's can be found in \cite{bousfield}, but also in \cite{olsson} where it is related to the homotopy colimit of cdga's. We will not discuss the details of the bar construction. However it is important to know that the Tor group only depends on the cohomology of the dga's in use (see \cite[Corollary 7.7]{mccleary}), in other words: quasi isomorphic dga's (in a compatible way) will have isomorphic Tor groups. Since $C^\ast(-;\k)$ is isomorphic to $A(-)$, the above theorem also holds for our functor $A$. We can restate the theorem as follows.

\Corollary{A-preserves-htpy-pullbacks}{
	Given the following pullback diagram of spaces
	\[ \xymatrix{
		E_f \ar[r] \xypb \ar[d] & E \arfib[d]^-{p} \\
		X \ar[r]^-{f} & B
	} \]
	where $p$ is a fibration. Assume that all spaces are $0$-connected and $B$ is $1$-connected. Then the induced diagram
	\[ \xymatrix{
		A(B) \ar[r] \ar[d] & A(E) \ar[d] \\
		A(X) \ar[r] & A(E_f)
	} \]
	is a homotopy pushout.
}
Another exposition of this corollary can be found in \cite[Section 8.4]{berglund}. A very brief summary of the above statement is that $A$ sends homotopy pullbacks to homotopy pushout (assuming some connectedness).

\section{Equivalence on rational spaces}
For the equivalence of rational spaces and cdga's we need that the unit and counit of the adjunction in \CorollaryRef{minimal-model-adjunction} are in fact weak equivalences for rational spaces. More formally: for any (automatically cofibrant) $X \in \sSet$ and any minimal model $A \in \CDGA$, both rational, $1$-connected and of finite type, the following two natural maps are weak equivalences:
\begin{align*}
	X &\to K(M(X)) \\
	A &\to M(K(A))
\end{align*}
where the first of the two maps is given by the composition $X \to K(A(X)) \tot{K(m_X)} K(M(X))$,
and the second map is obtained by the map $A \to A(K(A))$ and using the bijection from \LemmaRef{minimal-model-bijection}: $[A, A(K(A))] \iso [A, M(K(A))]$. By the 2-out-of-3 property the map $A \to M(K(A))$ is a weak equivalence if and only if the ordinary unit $A \to A(K(A))$ is a weak equivalence.

\todo{state all theorems we need but do not prove}

\Lemma{}{
	(Base case) Let $A = (\Lambda(v), 0)$ be a minimal model with one generator of degree $\deg{v} = n \geq 1$. Then $A \we A(K(A))$.
}
\Proof{
	By \CorollaryRef{minimal-cdga-EM-space} we know that $K(A)$ is an Eilenberg-MacLane space of type $K(\Q^\ast, n)$. The cohomology of an Eilenberg-MacLane space with coefficients in $\Q$ is known:
	$$ H^\ast(K(\Q^\ast, n); \Q) = \Q[x], $$
	that is, the free commutative graded algebra with one generator $x$. This can be calculated, for example, with spectral sequences \cite{griffiths}.

	Now choose a cycle $z \in A(K(\Q^\ast, n))$ representing the class $x$ and define a map $A \to A(K(A))$ by sending the generator $v$ to $z$. This induces an isomorphism on cohomology. So $A$ is the minimal model for $A(K(A))$.
}

\Lemma{}{
	(Induction step) Let $A$ be a cofibrant, connected algebra. Let $B$ be the pushout in the following square, where $m \geq 1$:
	\begin{displaymath}
		\xymatrix{
		S(m+1) \arcof[d] \ar[r] \xypo & A \arcof[d] \\
		T(m) \ar[r] & B
		}
	\end{displaymath}
	Then if $A \to A(K(A))$ is a weak equivalence, so is $B \to A(K(B))$
}
\Proof{
	Applying $K$ to the above diagram gives a pullback diagram of simplicial sets, where the induced vertical maps are fibrations (since $K$ is right Quillen). In other words, the induced square is a homotopy pullback.

	Applying $A$ again gives the following cube of cdga's:
	\begin{displaymath}
		\xymatrix @=9pt{
		S(m+1) \arcof[dd] \ar[rr] \arwe[rd] \xypo & & A \arcof'[d][dd] \arwe[rd] & \\
		& A(K(S(m+1))) \ar[dd] \ar[rr] & & A(K(A)) \ar[dd] \\
		T(m) \ar'[r][rr] \arwe[rd] & & B \ar[rd] & \\
		& A(K(T(m))) \ar[rr] & & A(K(B))
		}
	\end{displaymath}
	Note that we have a weak equivalence in the top left corner, by the base case ($S(m+1) = (\Lambda(v), 0)$). The weak equivalence in the top right is by assumption. Finally the bottom left map is a weak equivalence because both cdga's are acyclic.

	By \CorollaryRef{A-preserves-htpy-pullbacks} we know that the front face is a homotopy pushout. The back face is a homotopy pushout by \LemmaRef{htpy-pushout-reedy} and to conclude that $B \to A(K(B))$ is a weak equivalence, we use the cube lemma (\LemmaRef{cube-lemma}).
}

Now we wish to use the previous lemma as an induction step for minimal models. Let $(\Lambda V, d)$ be some minimal algebra. Write $V(n+1) = V(n) \oplus V'$ and let $v \in V'$ of degree $\deg{v} = k$, then the minimal algebra $(\Lambda (V(n) \oplus \Q \cdot v), d)$ is the pushout in the following diagram, where $f$ sends the generator $c$ to $dv$.
\begin{displaymath}
	\xymatrix{
	S(k) \arcof[d] \ar[r]^f \xypo & (\Lambda V(n), d) \ar[d] \\
	T(k-1) \ar[r] & (\Lambda (V(n) \oplus \Q \cdot v), d)
	}
\end{displaymath}
In particular if the vector space $V'$ is finitely generated, we can repeat this procedure for all basis elements (it does not matter in what order we do so, as $dv \in \Lambda V(n)$). So in this case, if $(\Lambda V(n), d) \to A(K(\Lambda V(n), d))$ is a weak equivalence, so is $(\Lambda V(n+1), d) \to A(K(\Lambda V(n+1), d))$

\Corollary{cdga-unit-we}{
	Let $(\Lambda V, d)$ be a $1$-connected minimal algebra with $V^i$ finite dimensional for all $i$. Then $(\Lambda V, d) \to A(K(\Lambda V, d))$ is a weak equivalence.
}
\Proof{
	Note that if we want to prove the isomorphism $H^i(\Lambda V, d) \to H^i(A(K(\Lambda V, d)))$ it is enough to prove that $H^i(\Lambda V^{\leq i}, d) \to H^i(A(K(\Lambda V^{\leq i}, d)))$ is an isomorphism (as the elements of higher degree do not change the isomorphism). By the $1$-connectedness we can choose our filtration to respect the degree by \LemmaRef{1-reduced-minimal-model}.

	Now $V(n)$ is finitely generated for all $n$ by assumption. By the inductive procedure above we see that $(\Lambda V(n), d) \to A(K(\Lambda V(n), d))$ is a weak equivalence for all $n$. Hence $(\Lambda V, d) \to A(K(\Lambda V, d))$ is a weak equivalence.
}

Now we want to prove that $X \to K(M(X))$ is a weak equivalence for a simply connected rational space $X$ of finite type. For this, we will use that $A$ preserves and detects such weak equivalences by \CorollaryRef{serre-whitehead} (the Serre-Whitehead theorem). To be precise: for a simply connected rational space $X$ the map $X \to K(M(X))$ is a weak equivalence if and only if $A(K(M(X))) \to A(X)$ is a weak equivalence.

\Lemma{}{
	The map $X \to K(M(X))$ is a weak equivalence for simply connected rational spaces $X$ of finite type.
}
\Proof{
	Recall that the map $X \to K(M(X))$ was defined to be the composition of the actual unit of the adjunction and the map $K(m_X)$. When applying $A$ we get the following situation, where commutativity is ensured by the adjunction laws:
	\[\xymatrix{
		A(X) & \ar[l] A(K(A(X))) & \ar[l] A(K(M(X))) \\
		& \ar[lu]^\id A(X) \ar[u] & \arwe[l] M(X) \ar[u]
	}\]
	The map on the right is a weak equivalence by \CorollaryRef{cdga-unit-we} \todo{details/finiteness}. Then by the 2-out-of-3 property we see that the above composition is indeed a weak equivalence. Since $A$ detects weak equivalences (Serre-Whitehead), we conclude that $X \to K(M(X))$ is a weak equivalence.
}

We have proven the following theorem.
\Theorem{main-theorem}{
	The functors $A$ and $K$ induce an equivalence of homotopy categories, when restricted to rational, $1$-connected objects of finite type. More formally, we have:
	$$ \Ho(\sSet_1^{\Q,f}) \iso \Ho(\CDGA_{\Q,1,f}). $$

	Furthermore, for any $1$-connected space $X$ of finite type, we have the following isomorphism of groups:
	$$ \pi_i(X) \tensor \Q \iso {V^i}^\ast, $$
	where $(\Lambda V, d)$ is the minimal model of $A(X)$.
}
