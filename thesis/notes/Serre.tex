
\Chapter{Serre theorems mod \texorpdfstring{$\C$}{C}}{Serre}

In this section we will prove the Whitehead and Hurewicz theorems in a rational context. Serre proved these results in \cite{serre}. In his paper he considered homology groups `modulo a class of abelian groups'. In our case of rational homotopy theory, this class will be the class of torsion groups.

\Definition{serre-class}{
	A class $\C \subset \Ab$ is a \Def{Serre class} if
	\begin{itemize}
		\item for all exact sequences $0 \to A \to B \to C \to 0$ if two abelian groups are in $\C$, then so is the third,
		\item for all $A \in \C$ the tensor product $A \tensor B$ is in $\C$ for any abelian group $B$,
		\item for all $A \in \C$ the Tor group $\Tor(A, B)$ is in $\C$ for any abelian group $B$, and
		\item for all $A \in \C$ the group homology $H_i(A; \Z)$ is in $\C$ for all positive $i$.
	\end{itemize}
}

Serre gave weaker axioms for his classes and proves some of the following lemmas only using these weaker axioms. However the classes we are interested in do satisfy the above (stronger) requirements. One should think of a Serre class as a class of groups we want to \emph{ignore}.

\Example{serre-classes}{
	We give three Serre classes without proof.
	\begin{itemize}
		\item The class $\C = \{ 0 \}$. With this class the following Hurewicz and Whitehead theorem will just restate be the classical theorems.
		\item The class $\C$ of all torsion groups. Using this class we can prove the rational version of the Hurewicz and Whitehead theorems.
		\item The class $\C$ of all uniquely divisible groups. Note that these groups can be given a unique $\Q$-vector space structure (and conversely every $\Q$-vector space is uniquely divisible). 
	\end{itemize}
}

The first three axioms of Serre classes are easily checked. For the group homology we find a calculation of the group homology of cyclic groups in \cite{moerdijk}. The group homology itself is also a torsion group, this result extends to all torsion groups. As noted by Hilton in \cite{hilton} we think of Serre classes as a generalized 0. This means that we can also express some kind of generalized injective and surjectivity. Here we only need the notion of a $\C$-isomorphism:

\Definition{serre-class-maps}{
	Let $\C$ be a Serre class and let $f: A \to B$ be a map of abelian groups. Then $f$ is a \Def{$\C$-isomorphism} if both the kernel and cokernel lie in $\C$.
}

Note that the maps $0 \to C$ and $C \to 0$ are $\C$-isomorphisms for any $C \in \C$. More importantly the 5-lemma also holds for $\C$-isos and we have the 2-out-of-3 property: whenever $f$, $g$ and $g \circ f$ are maps such that two of them are $\C$-iso, then so is the third.

In the following arguments we will consider fibrations and need to compute homology thereof. Unfortunately there is no long exact sequence for homology of a fibration, however the following lemma expresses something similar. It is usually proven with spectral sequences,  \cite[Ch. 2 Thm 1]{serre}. However in \cite{kreck} we find a more geometric proof for rational coefficients, which we generalize here to Serre classes.

\Lemma{kreck}{
	Let $\C$ be a Serre class and $p: E \fib B$ be a fibration between $0$-connected spaces with a $0$-connected fiber $F$. If $\RH_i(F) \in \C$ for all $i < n$ and $B$ is $m$-connected, then
	\begin{itemize}
		\item $H_i(E, F) \to H_i(B, b_0)$ is a $\C$-iso for $i \leq n+m$ and
		\item $H_i(E) \to H_i(B)$ is a $\C$-iso for all $i < n+m$.
	\end{itemize}
}
\Proof{
	We will first replace the fibration by a fiber bundle. This is done by going to simplicial sets and replace the induced map by a minimal fibration as follows. The fibration $p$ induces a fibration $S(E) \tot{S(p)} S(B)$, which can be factored as $S(E) \we M \fib S(B)$, where the map $M \fib S(B)$ is minimal and hence a fiber bundle \cite{joyal}. By realizing we obtain the following diagram:
	\begin{displaymath}
		\xymatrix {
		{|M|} \arfib[d] & \arwe[l] {|S(E)|} \arwe[r] \arfib[d] & E \arfib[d] \\
		{|S(B)|} & \ar[l]^{\id} {|S(B)|} \arwe[r] & B
		}
	\end{displaymath}
	The fibers of all fibrations are weakly equivalent by the long exact sequence, so the assumptions of the lemma also hold for the fiber bundle. To prove the lemma, it is enough to do so for the fiber bundle $|M| \fib |S(B)|$.

	So we can assume $E$ and $B$ to be a CW complexes and $E \fib B$ to be a fiber bundle. We will do induction on the skeleton $B^k$. By connectedness we can assume $B^0 = \{ b_0 \}$. Restrict $E$ to $B^k$ and note $E^0 = F$. Now the base case is clear: $H_i(E^0, F) \to H_i(B^0, b_0)$ is a $\C$-iso.

	For the induction step, consider the long exact sequence in homology for the triples $(E^{k+1}, E^k, F)$ and $(B^{k+1}, B^k, b_0)$:
	\cdiagram{Kreck_Exact_Sequence}

	The morphism in the middle is a $\C$-iso by induction. We will prove that the left morphism is a $\C$-iso which implies by the five lemma that the right morphism is one as well.

	As we are working with relative homology $H_{i+1}(E^{k+1}, E^k)$, we only have to consider the interiors of the $k+1$-cells (by excision). Each interior of a $k+1$-cell is a product, as $p$ is a fiber bundle. So we note that we have an isomorphism:
	$$ H_{i+1}(E^{k+1}, E^k) \iso H_{i+1}(\coprod_\alpha D^{k+1}_\alpha \times F, \coprod_\alpha S^k_\alpha \times F). $$
	Now we can apply the Künneth theorem for this product to obtain a natural short exact sequence, furthermore we apply the Künneth theorem for $(B^{k+1}, B^k) \times \ast$ to obtain a second short exact sequence as follows.
	\[ \scriptsize \xymatrix @C=0.4cm {
		0 \ar[r] & (H(B^{k+1}, B^k) \tensor H(F))_{i+1} \ar[d]^-{p'} \ar[r] & H_{i+1}(E^{k+1}, E^k) \ar[d]^-{p_\ast} \ar[r] & \Tor(H(B^{k+1}, B^k), H(F))_i \ar[d]^-{p''} \ar[r] & 0 \\
		0 \ar[r] & H_{i+1}(B^{k+1}, B^k) \ar[r] & H_{i+1}(B^{k+1}, B^k) \ar[r] & 0 \ar[r] & 0
	}\]
	Now it remains to show that $p'$ and $p''$ are $\C$-iso, as it will then follow from the five lemma that $p_\ast$ is a $\C$-iso.

	First note that $p'$ is surjective as it is an isomorphism on the subspace $H_{i+1}(B^{k+1}, B^k) \tensor H_0(F)$. Its kernel on the other hand is precisely given by the terms $H_{i+1-q}(B^{k+1}, B^k) \tensor H_q(F)$ for $q>0$. By assumption we have $H_q(F) \in \C$ for all $0 < q < n$ and $H_{i+1}(B^{k+1}, B^k) = 0$ for all $i+1 \leq m$. By the tensor axiom of a Serre class the kernel is in $\C$ for all $i < n+m$. So indeed $p'$ is a $\C$-iso for all $i < n+m$.

	For $p''$ a similar reasoning holds, it is clearly surjective and we only need to prove that the kernel of $p''$ (which is the Tor group itself) is in $\C$. First notice that $\Tor(H_i(B^{k+1}, B^k), H_0(F)) = 0$ as $H_0(F) \iso \Z$. Then consider the other terms of the graded Tor group. Again we use the assumed bounds to conclude that the Tor group is in $\C$ for $i \leq n+m$. So indeed $p''$ is a $\C$-iso for all $i \leq n+m$.

	Now we conclude that $p_\ast : H_{i+1}(B^{k+1}, B^k) \to H_{i+1}(E^{k+1}, E^k)$ is indeed a $\C$-iso for all $i < n+m$. And by the long exact sequence of triples shown above we get a $\C$-iso $p_\ast : H_i(E^{k+1}, F) \to H_i(B^{k+1}, b_0)$ for all $i \leq n+m$. This finished the induction on $k$.

	This concludes that $H_i(E, F) \to H_i(B, b_0)$ is a $\C$-iso and by another application of the long exact sequence (of the pair $(E,F)$) and the five lemma we get the $\C$-iso $H_i(E) \to H_i(B)$.
}

\Lemma{homology-em-space}{
	Let $\C$ be a Serre class and $G \in \C$. Then for all $n > 0$ and all $i > 0$ we have $H_i(K(G, n)) \in \C$.
}
\Proof{
	We prove this by induction on $n$. The base case $n = 1$ follows from group homology. By considering the nerve of $G$ we can construct $K(G,1)$. This construction can be related to the bar construction as found in \cite{moerdijk}. This then identifies the homology of the Eilenberg-MacLane space with the group homology which is in $\C$ by the axioms:
	$$ H_i(K(G, 1); \Z) \iso H_i(G; \Z) \in \C. $$

	Suppose we have proven the statement for $n$. If we consider the case of $n+1$ we can use the path fibration to relate it to the case of $n$:
	$$ \Omega K(G,n+1) \to P K(G, n+1) \fib K(G, n+1) $$
	Now $\Omega K(G, n+1) = K(G, n)$, and we can apply \LemmaRef{kreck} as the reduced homology of the fiber is in $\C$ by induction hypothesis. Conclude that the homology of $P K(G, n+1)$ is $\C$-isomorphic to the homology of $K(G, n)$. Since $\RH_\ast(P K(G, n+1)) = 0$, we get $\RH_\ast(K(G, n+1)) \in \C$.
}

For the main theorem we need the following construction. \todo{referentie}
\Lemma{whitehead-tower}{
	(Whitehead tower)
	We can decompose a $0$-connected space $X$ into fibrations:
	$$ \cdots \fib X(n+1) \fib X(n) \fib X(n-1) \fib \cdots \fib X(1) = X, $$
	such that:
	\begin{itemize}
		\item $K(\pi_n(X), n-1) \cof X(n+1) \fib X(n)$ is a fiber sequence,
		\item  There is a space $X'_n$ weakly equivalent to $X(n)$ such that $X(n+1) \cof X'_n \fib K(\pi_n(X), n)$ is a fiber sequence, and
		\item  $X(n)$ is $(n-1)$-connected and $\pi_i(X(n)) \iso \pi_i(X)$ for all $i \geq n$.
	\end{itemize}
}

\Theorem{serre-hurewicz}{
	(Absolute Serre-Hurewicz Theorem)
	Let $\C$ be a Serre class. Let $X$ a $1$-connected space.
	If $\pi_i(X) \in C$ for all $i<n$, then $H_i(X) \in C$ for all $i<n$ and the Hurewicz map $h: \pi_i(X) \to H_i(X)$ is a $\C$-isomorphism for all $i \leq n$.
}
\Proof{
	We will prove the lemma by induction on $n$. Note that the base case ($n = 1$) follows from the $1$-connectedness.

	For the induction step we may assume that $H_i(X) \in \C$ for all $i<n-1$ and that $h_{n-1}: \pi_{n-1}(X) \to H_{n-1}(X)$ is a $\C$-iso by induction hypothesis. Furthermore the theorem assumes that $\pi_{n-1}(X) \in \C$ and hence we conclude $H_{n-1}(X) \in \C$.

	It remains to show that $h_n$ is a $\C$-iso. Use the Whitehead tower from \LemmaRef{whitehead-tower} to obtain $\cdots \fib X(3) \fib X(2) = X$. Note that each $X(j)$ is also $1$-connected and that $X(2) = X(1) = X$.

	\Claim{}{For all $j < n$ and $i \leq n$ the induced map $H_i(X(j+1)) \to H_i(X(j))$ is a $\C$-iso.}
	Note that $X(j+1) \fib X(j)$ is a fibration with $F = K(\pi_j(X), j-1)$ as its fiber. So by \LemmaRef{homology-em-space} we know $H_i(F) \in \C$ for all $i$. Apply \LemmaRef{kreck} to obtain a $\C$-iso $H_i(X(j+1)) \to H_i(X(j))$ for all $j < n$ and all $i > 0$. This proves the claim.

	Considering this claim for all $j < n$ gives a chain of $\C$-isos $H_i(X(n)) \to H_i(X(n-1)) \to \cdot \to H_i(X(2)) = H_i(X)$ for all $i \leq n$. Consider the following diagram:

	\cdiagram{Serre_Hurewicz_Square}

	where the map on the top is an isomorphism by the classical Hurewicz theorem (and $X(n)$ is $(n-1)$-connected), the map on the left is an isomorphism by the Whitehead tower and the map on the right is a $\C$-iso by the claim.

	It follows that the bottom map is a $\C$-iso.
}

\Theorem{relative-serre-hurewicz}{
	(Relative Serre-Hurewicz Theorem)
	Let $\C$ be a Serre class. Let $A \subset X$ be $1$-connected spaces such that $\pi_2(A) \to \pi_2(X)$ is surjective.
	If $\pi_i(X, A) \in \C$ for all $i<n$, then $H_i(X, A) \in \C$ for all $i<n$ and the Hurewicz map $h: \pi_i(X, A) \to H_i(X, A)$ is a $\C$-isomorphism for all $i \leq n$.
}
\Proof{
	Note that we can assume $A \neq \emptyset$. We will prove by induction on $n$, the base case again follows by $1$-connectedness.

	Let $P X$ be that path space on $X$ and $Y \subset P X$ be the subspace of paths of which the endpoint lies in $A$. Now we get a fibration (of pairs) by sending the path to its endpoint:
	$$ p: (P X, Y) \fib (X, A), $$
	with $\Omega X$ as its fiber. We get long exact sequences of homotopy groups of the triples $\Omega X \subset Y \subset P X$ and $\ast \in A \subset X$:
	\[\small
	\xymatrix @C=0.2cm @R=0.4cm {
		\pi_i(Y, P X) \ar[r] \ar[d] & \pi_i(P X, \Omega X) \ar[r] \ar[d] & \pi_i(P X, Y) \ar[r] \ar[d] & \pi_{i-1}(Y, \Omega X) \ar[r] \ar[d] & \pi_{i-1}(P X, \Omega X) \ar[d] \\
		\pi_i(A, \ast) \ar[r] & \pi_i(X, \ast) \ar[r] & \pi_i(X, A) \ar[r] & \pi_{i-1}(A, \ast) \ar[r] & \pi_{i-1}(X, \ast) \\
	}
	\]
	The outer vertical maps are isomorphisms (again by a long exact sequence argument), hence the center vertical map is an isomorphism. Furthermore $\pi_i(P X) = 0$ as it is a path space, hence $\pi_{i-1}(Y) \iso \pi_i(P X, Y) \iso \pi_i(X, A)$. By assumption we have $\pi_1(X, A) = \pi_2(X, A) = 0$. So $Y$ is $1$-connected. Furthermore $\pi_{i-1}(Y) \in \C$ for all $i < n$.

	Now we can use the previous Serre-Hurewicz theorem to conclude $H_{i-1}(Y) \in \C$ for all $i < n$ and $\pi_{n-1}(Y) \tot{h} H_{n-1}(Y)$ is an $\C$-iso. We are in the following situation:
	\[
	\xymatrix {
		\pi_{n-1}(Y) \ar[d]^{\C\text{-iso}} & \ar[l]_\iso  \pi_n(P X, Y) \ar[r]^\iso \ar[d] & \pi_n(X, A) \ar[d] \\
		H_{n-1}(Y) & \ar[l]_\iso H_n(P X, Y) \ar[r]^{\C\text{-iso}} & H_n(X, A)
	}
	\]
	The horizontal maps on the left are isomorphisms by long exact sequences, this gives us that the middle vertical map is a $\C$-iso. The horizontal maps on the right are $\C$-isos by the above and a relative version of \LemmaRef{kreck}. Now we conclude that $\pi_n(X, A) \to H_n(X, A)$ is also a $\C$-iso and that $H_i(X, A) \in \C$ for all $i < n$.
}

\Theorem{serre-whitehead}{
	(Serre-Whitehead Theorem)
	Let $\C$ be a Serre class. Let $f: X \to Y$ be a map between $1$-connected spaces such that $\pi_2(f)$ is surjective.
	Then $\pi_i(f)$ is a $C$-iso for all $i<n$ $\iff$ $H_i(f)$ is a $\C$-iso for all $i<n$.
}
\Proof{
	Consider the mapping cylinder $B_f$ of $f$, i.e. factor the map $f$ as a cofibration followed by a trivial fibration $f: A \cof B_f \fib B$. The inclusion $A \subset B_f$ gives a long exact sequence of homotopy groups and homology groups:
	\cdiagram{Serre_Whitehead_LES}

	We now have the equivalence of the following statements:
	\begin{enumerate}
		\item $\pi_i(f)$ is a $\C$-iso for all $i < n$
		\item $\pi_i(B_f, A) \in \C$ for all $i < n$
		\item $H_i(B_f, A) \in \C$ for all $i < n$
		\item $H_i(f)$ is a $\C$-iso for all $i < n$.
	\end{enumerate}
	Where (1) $\iff$ (2) and (3) $\iff$ (4) hold by exactness and (2) $\iff$ (3) by the Serre-Hurewicz theorem.
}


\section{For rational equivalences}

\Lemma{serre-class-rational-iso}{
	Let $\C$ be the Serre class of all torsion groups. Then
	$f$ is a $\C$-iso $\iff$ $f \tensor \Q$ is an isomorphism.
}
\Proof{
	First note that if $C \in \C$ then $C \tensor \Q = 0$.

	Then consider the exact sequence
	$$ 0 \to \ker(f) \to A \tot{f} B \to \coker(f) \to 0 $$
	and tensor this sequence with $\Q$. In this tensored sequence the kernel and cokernel vanish if and only if $f \tensor \Q$ is an isomorphism.
}

Combining this lemma and \TheoremRef{serre-hurewicz} we get the following corollary for rational homotopy theory:
\Corollary{rational-hurewicz}{
	(Rational Hurewicz Theorem)
	Let $X$ be a $1$-connected space. If $\pi_i(X) \tensor \Q = 0$ for all $i < n$, then $H_i(X; \Q) = 0$ for all $i < n$. Furthermore we have an isomorphism for all $i \leq n$:
	$$ \pi_i(X) \tensor \Q \tot{\iso} H_i(X; \Q) $$
}

By using the class of $\Q$-vector spaces we get a dual theorem.
\Corollary{rational-hurewicz-2}{
	(Rational Hurewicz Theorem 2)
	Let $X$ be a $1$-connected space. The homotopy groups $\pi_i(X)$ are $\Q$-vector spaces for all $i > 0$ if and only if $H_i(X)$ are $\Q$-vector spaces for all $i > 0$.
}

\TheoremRef{serre-whitehead} also applies verbatim to rational homotopy theory. However we would like to avoid the assumption that $\pi_2(f)$ is surjective. In \cite{felix} we find a way to work around this.

\Corollary{rational-whitehead}{
	(Rational Whitehead Theorem)
	Let $f: X \to Y$ be a map between $1$-connected spaces.
	Then $f$ is a rational equivalence $\iff$ $H_\ast(f; \Q)$ is an isomorphism.
}
\Proof{
	We will replace $f$ by some map $f_1$ which is surjective on $\pi_2$. First consider $\Gamma = \pi_2(Y) / \im(\pi_2(f))$ and its Eilenberg-MacLane space $K = K(\Gamma, 2)$. There is a map $q : Y \to K$ inducing the projection map $\pi_2(q) : \pi_2(Y) \to \Gamma$.
	
	We can factor $q$ as
	\[\xymatrix @=0.4cm{
		Y \arwe[rr]^-\lambda \ar[dr]_-q & & Y \times_K MK \arfib[dl]^-{\overline{q}} \\
		& K &
	} \]
	Where $MK$ is the Moore path space and $\overline{q}$ is induced by the map sending a path to its endpoint.\todo{read} Now $\overline{q} \lambda f$ is homotopic to the constant map, so there is a homotopy $h: \overline{q} \lambda f \eq \ast$ which we can lift against the fibration $\overline{q}$ to a homotopy $h' : \lambda f \eq f_1$ with $\overline{q} f_1 = \ast$. In other words $f_1$ lands in the fiber of $\overline{q}$.

	We get a commuting square when applying $\pi_2$:
	\[ \xymatrix{
		\pi_2(X) \ar[r]^-{\pi_2(f_1)} \ar[d]^{\pi_2(f)} & \pi_2(Y \times_K PK) \ar[d]^{\pi_2(i)} \\
		\pi_2(Y) \ar[r]^-{\iso} & \pi_2(Y \times_K MK)
	} \]
	The important observation is that by the long exact sequence $\pi_\ast(i) \tensor \Q$ and $H_\ast(i; \Q)$ are isomorphisms (here we use that $\Gamma \tensor \Q = 0$ and that tensoring with $\Q$ is exact). So by the above square $\pi_\ast(f_1) \tensor \Q$ is an isomorphism if and only if $\pi_\ast(f) \tensor \Q$ is (and similarly for homology). Finally we note that $\pi_2(f_1)$ is surjective, so \TheoremRef{serre-whitehead} applies and the result also holds for $f$.
}
