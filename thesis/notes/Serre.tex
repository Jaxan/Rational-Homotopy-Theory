
\chapter{Serre theorems mod \texorpdfstring{$\C$}{C}}
\label{sec:serre}

In this section we will prove the Whitehead and Hurewicz theorems in a rational context. Serre proved these results in \cite{serre}. In his paper he considered homology groups `modulo a class of abelian groups'. In our case of rational homotopy theory, this class will be the class of torsion groups.

\Definition{serre-class}{
	A class $\C \subset \Ab$ is a \Def{Serre class} if
	\begin{itemize}
		\item for all exact sequences $0 \to A \to B \to C \to 0$ with $A$ and $C$ in $\C$, $B$ also belongs to $\C$,
		\item $\C$ is closed under taking direct sums (both finite and infinite).
	\end{itemize}
}

Serre gave weaker axioms for his classes and proves some of the following lemmas only using these weaker axioms. However the classes we are interested in do satisfy the above (stronger) requirements. One should think of a Serre class as a class of groups we want to \emph{ignore}. We will be interested in the first two of the following examples.

\Example{serre-classes}{
	We give three Serre classes without proof.
	\begin{itemize}
		\item The class $\C = \{ 0 \}$. With this class the following Hurewicz and Whitehead theorem will simply be the classical statements.
		\item The class $\C$ of all torsion groups. Using this class we can prove the rational version of the Hurewicz and Whitehead theorems.
		\item The class $\C$ of all uniquely divisible groups. Note that these groups can be given a unique $\Q$-vector space structure (and conversely every $\Q$-vector space is uniquely divisible). 
	\end{itemize}
}

The most important properties we need of a Serre class are the following:
\Lemma{Serre-properties}{
	Let $\C \subset \Ab$ be a Serre class. Then we have:
	\begin{enumerate}
		\item If $A \in \C$, then $A \tensor B \in \C$ for all $B$.
		\item If $A \in \C$, then $H(A) \in \C$ ($H(A)$ is the group homology of $A$).
	\end{enumerate}
}

\Definition{serre-class-maps}{
	Let $\C$ be a Serre class and let $f: A \to B$ be a map of abelian groups. Then $f$ is a $\C$-isomorphism if both the kernel and cokernel lie in $\C$.
}

Note that the map $0 \to C$ is a $\C$-isomorphism for any $C \in \C$. \todo{Er missen nog wat eigenschappen voor tensors}

\Lemma{serre-class-rational-iso}{
	Let $\C$ be the Serre class of all torsion groups. Then
	$f$ is a $\C$-iso $\iff$ $f \tensor \Q$ is an isomorphism.
}
\Proof{
	First note that if $C \in \C$ then $C \tensor \Q = 0$.

	Then consider the exact sequence
	$$ 0 \to \ker(f) \to A \tot{f} B \to \coker(f) \to 0 $$
	and tensor this sequence with $\Q$. In this tensored sequence the kernel and cokernel vanish if and only if $f \tensor \Q$ is an isomorphism.
}

In the following arguments we will consider fibrations and need to compute homology thereof. Unfortunately there is no long exact sequence for homology of a fibration, however the following lemma expresses something similar. It is usually proven with spectral sequences,  \cite[Ch. 2 Thm 1]{serre}. However in \cite{kreck} we find a more elementary proof using cellular homology.

\Lemma{kreck}{
	Let $\C$ be a Serre class. Let $p: E \fib B$ be a fibration between $1$-connected spaces and $F$ its fiber. If $\RH_i(F) \in \C$ for all $i < n$, then
	\begin{itemize}
		\item $H_i(E, F) \to H_i(B, b_0)$ is a $\C$-iso for $i \leq n+1$ and
		\item $H_i(E) \to H_i(B)$ is a $\C$-iso for all $i \leq n$.
	\end{itemize}
}
\Proof{
	We will first replace the fibration by a fiber bundle. This is done by going to simplicial sets and replace the induced map by a minimal fibration \cite{joyal}. The fibration $p$ induces a fibration $S(E) \tot{S(p)} S(B)$, which can be factored as $S(E) \we M \fib S(B)$, where the map $M \fib S(B)$ is minimal (and hence a fiber bundle). By realizing we obtain the following diagram:
	\begin{displaymath}
		\xymatrix {
		{|M|} \arfib[d] & \arwe[l] {|S(E)|} \arwe[r] \arfib[d] & E \arfib[d] \\
		{|S(B)|} & \ar[l]^{\id} {|S(B)|} \arwe[r] & B
		}
	\end{displaymath}
	The fibers of all fibrations are weakly equivalent by the long exact sequence, so the assumptions of the lemma also hold for the fiber bundle. To prove the lemma, it is enough to do so for the fiber bundle $|M| \fib |S(B)|$.

	So we can assume $E$ and $B$ to be a CW complexes and $E \fib B$ to be a fiber bundle. We will do induction on the skeleton $B^k$. By connectedness we can assume $B^0 = \{ b_0 \}$. Restrict $E$ to $B^k$ and note $E^0 = F$. Now the base case is clear: $H_i(E^0, F) \to H_i(B^0, b_0)$ is a $\C$-iso.

	For the induction step, consider the long exact sequence in homology for the triples $(E^{k+1}, E^k, F)$ and $(B^{k+1}, B^k, b_0)$:

	\cdiagram{Kreck_Exact_Sequence}

	The morphism in the middle is a $\C$-iso by induction. We will prove that the left morphism is a $\C$-iso which implies by the five lemma that the right morphism is one as well.

	As we are working with relative homology $H_{i+1}(E^{k+1}, E^k)$, we only have to consider the interiors of the $k+1$-cells (by excision). Each interior of a $k+1$-cell is a product, as $p$ was a fiber bundle. So we note that we have an isomorphism:
	$$ H_{i+1}(E^{k+1}, E^k) \iso H_{i+1}(\coprod_\alpha D^{k+1}_\alpha \times F, \coprod_\alpha S^k_\alpha \times F). $$
	Now we can apply the KÃ¼nneth theorem and identify the cells of $B$:
	\begin{align*}
		H_{i+1}(E^{k+1}, E^k) &\iso (H_\ast(\coprod_\alpha D^{k+1}_\alpha, \coprod_\alpha S^k_\alpha) \tensor H_\ast(F))_{i+1} \\
		&\iso (H_\ast(B^{k+1}, B^k) \tensor H_\ast(F)) \\
		&= \bigoplus_{j+l=i+1} H_j(B^{k+1}, B^k) \tensor H_l(F)
	\end{align*}
	Note that this is the graded tensor product, and that the term $H_{i+1}(B^{k+1}, B^k) \tensor H_0(F) = H_{i+1}(B^{k+1}, B^k)$ and that this identification is compatible with the induced map $p_\ast : H_{i+1}(E^{k+1}, E^k) \to H_{i+1}(B^{k+1}, B^k)$ (hence the map is surjective). To prove that the map is a $\C$-iso, we need to prove that the kernel is in $\C$. The kernel is the sum of the following terms, with $1 \leq l \leq i+1$:
	$$ H_{i+1-l}(B^{k+1}, B^k) \tensor H_l(F). $$
	Now we can use the assumption that $H_l(F) \in \C$ for $1 \leq l < n$ and that for $B \in \C$ we have $A \tensor B \in \C$ for all $A$ (by \LemmaRef{Serre-properties}). This concludes that the kernel $H_{i+1-l}(B^{k+1}, B^k) \tensor H_l(F)$ is indeed in $\C$. And hence the induced map is a $\C$-iso for all
	$$ p_\ast : H_{i+1}(E^{k+1}, E^k) \to H_{i+1}(B^{k+1}, B^k) $$

	This finished the induction on $k$.
}

\Lemma{homology-em-space}{
	Let $\C$ be a Serre class and $C \in \C$. Then for all $n > 0$ and all $i > 0$ we have $H_i(K(C, n)) \in \C$.
}
\Proof{
	We prove this by induction on $n$. The base case $n = 1$ follows from group homology.

	For the induction we can use the loop space and \LemmaRef{kreck}.

	\todo{Bewijs afmaken}
}

For the main theorem we need the following construction. \todo{Geef de constructie}
\Lemma{whitehead-tower}{
	(Whitehead tower)
	We can decompose a $0$-connected space $X$ into fibrations:
	$$ \cdots \fib X(n+1) \fib X(n) \fib X(n-1) \fib \cdots \fib X(1) = X, $$
	such that:
	\begin{itemize}
		\item $K(\pi_n(X), n-1) \cof X(n+1) \fib X(n)$ is a fiber sequence,
		\item  There is a space $X'_n$ weakly equivalent to $X(n)$ such that $X(n+1) \cof X'_n \fib K(\pi_n(X), n)$ is a fiber sequence, and
		\item  $X(n)$ is $(n-1)$-connected and $\pi_i(X(n)) \iso \pi_i(X)$ for all $i \geq n$.
	\end{itemize}
}

\Theorem{serre-hurewicz}{
	(Absolute Serre-Hurewicz Theorem)
	Let $\C$ be a Serre class. Let $X$ a $1$-connected space.
	If $\pi_i(X) \in C$ for all $i<n$, then $H_i(X) \in C$ for all $i<n$ and the Hurewicz map $h: \pi_i(X) \to H_i(X)$ is a $\C$-isomorphism for all $i \leq n$.
}
\Proof{
	We will prove the lemma by induction on $n$. Note that the base case ($n = 1$) follows from the $1$-connectedness. For the induction step assume that $H_i(X) \in \C$ for all $i<n-1$ and that $h_{n-1}: \pi_{n-1}(X) \to H_{n-1}(X)$ is a $\C$-iso. Now given is that $\pi_{n-1}(X) \in \C$ and hence $H_{n-1}(X) \in \C$. \todo{kromme zin}

	It remains to show that $h_n$ is a $\C$-iso. Use the Whitehead tower from \LemmaRef{whitehead-tower} to obtain $\cdots \fib X(3) \fib X(2) = X$. Note that each $X(j)$ is also $1$-connected and that $X(2) = X(1) = X$.

	\Claim{}{For all $j < n$ and $i \leq n$ the induced map $H_i(X(j+1)) \to H_i(X(j))$ is a $\C$-iso.}
	Note that $X(j+1) \fib X(j)$ is a fibration with $F = K(\pi_j(X), j-1)$ as its fiber. So by \LemmaRef{homology-em-space} we know $H_i(F) \in \C$ for all $i$. Apply \LemmaRef{kreck} to obtain a $\C$-iso $H_i(X(j+1)) \to H_i(X(j))$ for all $j < n$ and all $i > 0$. This proves the claim.

	Considering this claim for all $j < n$ gives a chain of $\C$-isos $H_i(X(n)) \to H_i(X(n-1)) \to \cdot \to H_i(X(2)) = H_i(X)$ for all $i \leq n$. Consider the following diagram:

	\cdiagram{Serre_Hurewicz_Square}

	where the map on the top is an isomorphism by the classical Hurewicz theorem (and $X(n)$ is $(n-1)$-connected), the map on the left is an isomorphism by the Whitehead tower and the map on the right is a $\C$-iso by the claim.

	It follows that the bottom map is a $\C$-iso.
}

\Theorem{relative-serre-hurewicz}{
	(Relative Serre-Hurewicz Theorem)
	Let $\C$ be a Serre class. Let $A \subset X$ be $1$-connected spaces such that $\pi_2(A) \to \pi_2(B)$ is surjective.
	If $\pi_i(X, A) \in \C$ for all $i<n$, then $H_i(X, A) \in \C$ for all $i<n$ and the Hurewicz map $h: \pi_i(X, A) \to H_i(X, A)$ is a $\C$-isomorphism for all $i \leq n$.
}
\Proof{
	Note that we can assume $A \neq \emptyset$. We will prove by induction on $n$, the base case again follows by $1$-connectedness.

	\todo{Bewijs afmaken}
}

\Theorem{serre-whitehead}{
	(Serre-Whitehead Theorem)
	Let $\C$ be a Serre class. Let $f: X \to Y$ be a map between $1$-connected spaces such that $\pi_2(f)$ is surjective.
	Then $\pi_i(f)$ is a $C$-iso for all $i<n$ $\iff$ $H_i(f)$ is a $\C$-iso for all $i<n$.
}
\Proof{
	Consider the mapping cylinder $B_f$ of $f$, i.e. factor the map $f$ as a cofibration followed by a trivial fibration $f: A \cof B_f \fib B$. The inclusion $A \subset B_f$ gives a long exact sequence of homotopy groups and homology groups:

	\cdiagram{Serre_Whitehead_LES}

	We now have the equivalence of the following statements:
	\begin{enumerate}
		\item $\pi_i(f)$ is a $\C$-iso for all $i < n$
		\item $\pi_i(B_f, A) \in \C$ for all $i < n$
		\item $\RH_i(B_f, A) \in \C$ for all $i < n$
		\item $\RH_i(f)$ is a $\C$-iso for all $i < n$.
	\end{enumerate}
	Where (1) $\iff$ (2) and (3) $\iff$ (4) hold by exactness and (2) $\iff$ (3) by the Serre-Hurewicz theorem.
}

In the case of rational homotopy theory we get the following corollary.

\Corollary{serre-whitehead}{
	(Rational Whitehead Theorem)
	Let $f: X \to Y$ be a map between $1$-connected spaces such that $\pi_2(f)$ is surjective.
	Then $f$ is a rational equivalence $\iff$ $H_i(f; \Q)$ is an isomorphism for all $i$.
}

\todo{Voeg het trucje uit Felix toe om ``$\pi_2(f)$ surjectief'' te omzeilen}
