
\chapter{Model categories}
\label{sec:model_categories}

As this thesis considers different categories, each with its own homotopy theory, it is natural to use Quillen's formalism of model categories. Not only gives this the right definition of the associated homotopy category, it also gives existence of lifts and lifts of homotopies.

\newcommand{\W}{\mathfrak{W}}
\newcommand{\Fib}{\mathfrak{Fib}}
\newcommand{\Cof}{\mathfrak{Cof}}

\begin{definition}
	A \Def{model category} is a category $\cat{C}$ together with three subcategories:
	\begin{itemize}
		\item a class of \Def{weak equivalences} $\W$,
		\item a class of \Def{fibrations} $\Fib$ and
		\item a class of \Def{cofibrations} $\Cof$,
	\end{itemize}
	such that the following five axioms hold:
	\begin{itemize}
		\item[MC1] All finite limits and colimits exist in $\cat{C}$.
		\item[MC2] If $f$, $g$ and $fg$ are maps such that two of them are weak equivalences, then so it the third. This is called the \emph{2-out-of-3} property.
		\item[MC3] All three classes of maps are closed under retracts\todo{Either draw the diagram or define a retract earlier}.
		\item[MC4] In any commuting square as follows where $i \in \Cof$ and $p \in \Fib$,
			\cdiagram{Model_Liftproblem}

			there exist a lift $h: B \to Y$ if either (a) $i \in \W$ or (b) $p \in \W$.
		\item[MC5] Any map $f : A \to B$ can be factored in two ways:
			\begin{itemize}
				\item[a)] as $f = pi$, where $i \in \Cof \cap \W$ and $p \in \Fib$ and
				\item[b)] as $f = pi$, where $i \in \Cof$ and $p \in \Fib \cap \W$.
			\end{itemize}
	\end{itemize}
\end{definition}

\Notation{model-cats-arrows}{
	For brevity
	\begin{itemize}
		\item we write $f: A \fib B$ when $f$ is a fibration,
		\item we write $f: A \cof B$ when $f$ is a cofibration and
		\item we write $f: A \we B$ when $f$ is a weak equivalence.
	\end{itemize}
	Furthermore a map which is a fibration and a weak equivalence is called a \Def{trivial fibration}, similarly we have \Def{trivial cofibration}.
}

\Definition{model-cats-fibrant-cofibrant}{
	An object $A$ in a model category $\cat{C}$ will be called \Def{fibrant} if $A \to \cat{1}$ is a fibration and \Def{cofibrant} if $\cat{0} \to A$ is a cofibration.
}

Note that axiom [MC5a] allows us to replace any object $X$ with a weakly equivalent fibrant object $X^{fib}$ and by [MC5b] by a weakly equivalent cofibrant object $X^{cof}$, as seen in the following diagram:

\cdiagram{Model_Replacements}

The fourth axiom actually characterizes the classes of (trivial) fibrations and (trivial) cofibrations. We will abbreviate left lifting property with LLP and right lifting property with RLP. We will not prove these statements, but only expose them because we use them throughout this thesis. One can find proofs in \cite{dwyer, may}.

\Lemma{model-cats-characterization}{
	Let $\cat{C}$ be a model category.
	\begin{itemize}
		\item \small The cofibrations in $\cat{C}$ are the maps with a LLP w.r.t. trivial fibrations.
		\item \small The fibrations in $\cat{C}$ are the maps with a RLP w.r.t. trivial cofibrations.
		\item \small The trivial cofibrations in $\cat{C}$ are the maps with a LLP w.r.t. fibrations.
		\item \small The trivial fibrations in $\cat{C}$ are the maps with a RLP w.r.t. cofibrations.
	\end{itemize}
}

This means that once we choose the weak equivalences and the fibrations for a category $\cat{C}$, the cofibrations are determined, and vice versa. The classes of fibrations behave nice with respect to pullbacks and dually cofibrations behave nice with pushouts:

\Lemma{model-cats-pushouts}{
	Let $\cat{C}$ be a model category. Consider the following two diagrams where $P$ is the pushout and pullback respectively.
	\cdiagram{Model_Cats_Pushouts}
	\begin{itemize}
		\item If $i$ is a (trivial) cofibration, so is $j$.
		\item If $p$ is a (trivial) fibration, so is $q$.
	\end{itemize}
}

\Lemma{model-cats-coproducts}{
	Let $\cat{C}$ be a model category. Let $f: A \cof B$ and $g:A' \cof B'$ be two (trivial) cofibrations, then the induced map of the coproducts $f+g: A+A' \to B+B'$ is also a (trivial) cofibration. Dually: the product of two (trivial) fibrations is a (trivial) fibration.
}

Of course the most important model category is the one of topological spaces. We will be interested in the standard model structure on topological spaces, which has weak homotopy equivalences as weak equivalences. Equally important is the model category of simplicial sets.

\Example{top-model-structure}{
	The category $\Top$ of topological spaces admits a model structure as follows.
	\begin{itemize}
		\item Weak equivalences: maps inducing isomorphisms on all homotopy groups.
		\item Fibrations: Serre fibrations, i.e. maps with the right lifting property with respect to the inclusions $D^n \cof D^n \times I$.
		\item Cofibrations: the smallest class of maps containing $S^{n-1} \cof D^n$ which is closed under transfinite compositions, pushouts, coproducts and retracts.
	\end{itemize}
}

\Example{sset-model-structure}{
	The category $\sSet$ of simplicial sets has the following model structure.
	\begin{itemize}
		\item Weak equivalences: maps inducing isomorphisms on all homotopy groups.
		\item Fibrations: Kan fibrations, i.e. maps with the right lifting property with respect to the inclusions $\Lambda_n^k \cof \Delta[n]$.
		\item Cofibrations: all monomorphisms.
	\end{itemize}
}
\todo{small object arg?}

In this thesis we often restrict to $1$-connected spaces. The full subcategory $\Top_1$ of $1$-connected spaces satisfies MC2-MC5: the 2-out-of-3 property, retract property and lifting properties hold as we take the \emph{full} subcategory, factorizations exist as the middle space is $1$-connected as well. Both products and coporducts exist. However $\Top_1$ does not have all limits and colimits.

\Remark{topr-no-colimit}{
	Let $r > 0$ and $\Top_r$ be the full subcategory of $r$-connected spaces. The diagrams
	\cdiagram{Topr_No_Coequalizer}
	have no coequalizer and respectively no equalizer in $\Top_r$.
}

\section{Homotopies}
So far we have only seen equivalences between objects of the category. We can, however, also define homotopy relations between maps (as we are used to in $\Top$). There are two such construction, which will coincide on nice objects. We will only state the definitions and important results. One can find proofs of these results in \cite{dwyer}. Throughout this section we silently work with a fixed model category $\cat{C}$.

\newcommand{\cylobj}[1]{Cyl_{#1}}
\newcommand{\pathobj}[1]{Path_{#1}}
\newcommand{\lhtpy}{{\sim^{l}}}
\newcommand{\rhtpy}{{\sim^{r}}}
\newcommand{\lhtpycl}{{\pi^l}}
\newcommand{\rhtpycl}{{\pi^r}}

\Definition{cylinder_object}{
	A \Def{cylinder object} for an object $A$ is an object $\cylobj{A}$ together with maps:
	$$ A \coprod A \tot{i} \cylobj{A} \we^{p} A, $$
	which factors the folding map $\id_A + \id_A: A \coprod A \to A$ (note that we use MC1 here). The cylinder object is called
	\begin{itemize}
		\item \emph{good} if $i$ is a cofibration and
		\item \emph{very good} if in addition $p$ is a fibration.
	\end{itemize}
}
\Notation{cylinder_maps}{
	The map $i$ consists of two factors, which we will denote $i_0$ and $i_1$.
}

Note that we do not require cylinder objects to be functorial. There can also be more than one cylinder object for $A$. Cylinder objects can now be used to define left homotopies.

\Definition{left_homotopy}{
	Two maps $f, g: A \to X$ are \Def{left homotopic} if there exists a cylinder object $\cylobj{A}$ and a map $H: \cylobj{A} \to X$ such that $H \circ i_0 = f$ and $H \circ i_1 = g$.

	We will call $H$ a \Def{left homotopy} for $f$ to $g$ and write $f \lhtpy r$. Moreover, the homotopy is called good (resp. very good) is the cylinder object is good (resp. very good).
}

Note that the relation need not be transitive: consider $f \lhtpy g$ and $g \lhtpy h$, then these homotopies may be defined on different cylinder objects and in general we cannot relate the cylinder objects. However for nice domains $\lhtpy$ will be an equivalence relation.

\Lemma{left_homotopy_eqrel}{
	If $A$ is cofibrant, then $\lhtpy$ is an equivalence relation on $\Hom_\cat{C}(A, X)$.
}
\Definition{left_homotopy_classes}{
	We will denote the set of \Def{left homotopy classes} as
	$$ \lhtpycl(A, X) = \Hom_\cat{C}(A, X) / \lhtpy', $$
	where $\lhtpy'$ is the equivalence relation generated by $\lhtpy$.
}

\Lemma{left_homotopy_properties}{
	We have the following properties
	\begin{itemize}
		\item If $A$ is cofibrant and $p: X \to Y$ a trivial fibration, then
		$$ p_\ast : \lhtpycl(A, X) \tot{\iso} \lhtpycl(A, Y). $$
		\item If $X$ is fibrant, $f \lhtpy g: B \to X$ and we have a map $h: A \to B$, then
		$$ fh \lhtpy gh. $$
	\end{itemize}
}

Of course there is a completely dual definition of right homotopy, in terms of path objects. All of the above also applies (but in a dual way).

\Definition{path_object}{
	A \Def{path object} for an object $X$ is an object $\pathobj{X}$ together with maps:
	$$ X \we^{i} \pathobj{X} \tot{p} X \times X, $$
	which factors the diagonal map $(\id_X, \id_X): X \to X \times X$. The path object is called
	\begin{itemize}
		\item \emph{good} if $p$ is a fibration and
		\item \emph{very good} if in addition $i$ is a cofibration.
	\end{itemize}
}

\Notation{cylinder_maps}{
	The map $p$ consists of two factors, which we will denote $p_0$ and $p_1$.
}

\Definition{right_homotopy}{
	Two maps $f, g: A \to X$ are \Def{right homotopic} if there exists a path object $\pathobj{X}$ and a map $H: A \to \pathobj{X}$ such that $p_0 \circ H = f$ and $p_1 \circ H = g$.

	We will call $H$ a \Def{right homotopy} for $f$ to $g$ and write $f \rhtpy r$. Moreover, the homotopy is called good (resp. very good) is the path object is good (resp. very good).
}

\Lemma{right_homotopy_eqrel}{
	If $X$ is fibrant, then $\rhtpy$ is an equivalence relation on $\Hom_\cat{C}(A, X)$.
}
\Definition{right_homotopy_classes}{
	We will denote the set of \Def{left homotopy classes} as
	$$ \rhtpycl(A, X) = \Hom_\cat{C}(A, X) / \rhtpy', $$
	where $\rhtpy'$ is the equivalence relation generated by $\rhtpy$.
}

\Lemma{right_homotopy_properties}{
	We have the following properties
	\begin{itemize}
		\item If $X$ is fibrant and $i: A \to B$ a trivial cofibration, then
		$$ i^\ast : \rhtpycl(B, X) \tot{\iso} \rhtpycl(A, X). $$
		\item If $A$ is cofibrant, $f \rhtpy g: A \to X$ and we have a map $h: X \to Y$, then
		$$ hf \rhtpy hg. $$
	\end{itemize}
}

The two notions (left resp. right homotopy) agree on nice objects. Hence in this case we can speak of homotopic maps.

\Lemma{homotopy}{
	Let $f, g: A \to X$ be two maps and $A$ cofibrant and $X$ fibrant, then
	$$ f \lhtpy g \iff f \rhtpy g. $$
}

\Definition{homotopy}{
	In the above case we say that $f$ and $g$ are \Def{homotopic}, this is denoted by $f \sim g$. Furthermore we can define the set of homotopy classes as:
	$$ [A, X] = \Hom_\cat{C}(A, X) / \sim. $$

	A map $f: A \to X$ between cofibrant-fibrant objects is said to have a \Def{homotopy inverse} if there exists $g: X \to A$ such that $fg \sim \id$ and $gf \sim \id$. We will also call $f$ a \Def{strong homotopy equivalence}.
}

\Lemma{weak_strong_homotopy}{
	Let $f: A \to B$ be a map between cofibrant-fibrant objects, then:
	$$ f \text{ is a weak equivalence } \iff f \text{ is a strong equivalence }. $$
}


\section{The Homotopy Category}
Given a model category, we wish to construct a category in which the weak equivalences become actual isomorphisms. From an abstract perspective, this would be a \emph{localization} of categories. To be precise, if we have a category $\cat{C}$ with weak equivalences $\W$, we want a functor $\gamma: \cat{C} \to \Ho(\cat{C})$ such that
\begin{itemize}
	\item for every $f \in \W$, the map $\gamma(f)$ is an isomorphism and
	\item $\Ho(\cat{C})$ is universal with this property. This means that for every $\psi$ sending weak equivalences to isomorphisms, we get:
	\[\xymatrix @C=1.5cm{
		\cat{C} \ar[r]^-\gamma \ar[dr]^{\psi} & \Ho(\cat{C}) \ar@{-->}[d]^{\overline{\psi}} \\	
		& \cat{D}
	}\]
\end{itemize}

For arbitrary categories and classes of weak equivalences, such a localization need not exist. But when we have a model category, we can always construct $\Ho(\cat{C})$.

\Definition{homotopy-category}{
	The \Def{homotopy category $\Ho(\cat{C})$} of a model category $\cat{C}$ is defined with
	\begin{itemize}
		\item the objects being the objects in $\cat{C}$
		\item the maps between $X$ and $Y$ are
		\[ \Hom_{\Ho(\cat{C})}(X, Y) = [X^{cof,fib}, Y^{cof,fib}]. \]
	\end{itemize}
}

In \cite{dwyer} it is proven that this indeed defines a localization of $\cat{C}$ with respect to $\W$. It is good to note that $\Ho(\Top)$ does not depend on the class of cofibrations or fibrations.

Note that whenever we have a full subcategory $\cat{C'} \subset \cat{C}$, where $\cat{C}$ is a model category, there is a subcategory of the homotopy category: $\Ho(\cat{C'}) \subset \Ho(\cat{C})$. There is no need for a model structure on the subcategory.

\Example{ho-top}{
	The category $\Ho(\Top)$ has as objects just topological spaces and homotopy classes between cofibrant replacements (note that every objects is already fibrant). Moreover, if we restrict to the full subcategory of CW complexes, maps are precisely homotopy classes between objects.

	Homotopical invariants are often defined as functors on $\Top$. For example we have the $n$-th homotopy group functor $\pi_n: \Top \to \Grp$ and the $n$-th homology group functor $H_n: \Top \to \Ab$. But since they are homotopy invariant, they can be expressed as functors on $\Ho(\Top)$:
	\[ \pi_n : \Ho(\Top) \to \Grp \qquad H_n : \Ho(\Top) \to \Ab. \]
}


\section{Quillen pairs}
In order to relate model categories and their associated homotopy categories we need a notion of maps between them. We want the maps such that they induce maps on the homotopy categories.

We first make an observation. Notice that whenever we have an adjunction $F : \cat{C} \leftadj \cat{D} : G$, finding a lift in the following diagram on the left is equivalent to finding one in the diagram on the right.
\[\xymatrix{
	FA \ar[r] \ar[d] & X \ar[d] \\
	FB \ar[r] & Y
}\qquad\xymatrix{
	A \ar[r] \ar[d] & GX \ar[d] \\
	B \ar[r] & GY
}\]
So it should not come as a surprise that adjunctions play an important role in model categories. The useful notion of maps between model categories is the following.

\Definition{quillen-pair}{
	An adjunction $F : \cat{C} \leftadj \cat{D} : G$ between model categories is a \Def{Quillen pair} if $F$ preserves cofibrations and $G$ preserves fibrations.

	In this case $F$ is the \Def{left Quillen functor} and $G$ is the \Def{right Quillen functor}.
}

Notice that by the lifting properties $(F,G)$ is a Quillen pair if and only if $F$ preserves cofibrations and trivial cofibrations (or dually $G$ preserves fibrations and trivial fibrations). The Quillen pairs are important as they induce functors on the homotopy categories.

\Theorem{quillen-pair-induces-hocat}{
	If $(F, G)$ is a Quillen pair, then there an induced adjunction
	\[ LF : \Ho(cat{C}) \leftadj \Ho(\cat{D}) : RG, \]
	where $LF(X) = F(X^{cof})$ and $RG(Y) = G(Y^{fib})$.
}

Such an adjunction between homotopy categories is an equivalence if the unit and counit are isomorphisms in $\Ho(\cat{C})$. This means that the following two maps should be weak equivalences in $\cat{C}$ for all cofibrant $X$ and all fibrant $Y$
\begin{align*}
	\unit &: X \to G(F(X)^{fib}) \\
	\counit &: F(G(Y)^{cof}) \to Y.
\end{align*}
In this case, such a pair of functors is called a \Def{Quillen equivalence}.

\Example{sset-top-equivalence}{
	The geometric realization and singular functor form a Quillen equivalence
	\[ |-| : \sSet \leftadj \Top : S(-). \]
}


\section{Homotopy pushouts and pullbacks}
In category theory we know that colimits (and limits) are unique up to isomorphism, and that isomorphic diagrams will have isomorphic colimits (and limits). We would like a similar theory for weak equivalences. Unfortunately the ordinary colimit (or limit) is not homotopically nice. For example consider the following two diagrams, with the obvious maps.
\[\xymatrix{
	S^1 \ar[r] \ar[d] & D^2 \\
	D^2 &
} \qquad \xymatrix{
	S^1 \ar[r] \ar[d] & \ast \\
	\ast &
} \]
The diagrams are pointwise weakly equivalent. But the induced map $S^n \to \ast$ on the pushout is clearly not. In this section we will briefly indicate what homotopy pushouts are (and dually we get homotopy pullbacks).

One direct way to obtain a homotopy pushout is by the use of \emph{Reedy categories} \cite{hovey}. In this case the diagram category is endowed with a model structure, which gives a notion of cofibrant diagram. In such diagrams the ordinary pushout is the homotopy pushout.

\Lemma{htpy-pushout-reedy}{
	Consider the following pushout diagram. The if all objects are cofibrant and the map $f$ is a cofibration, then the homotopy pushout is given by the ordinary pushout.
	\[ \xymatrix{
		A \ar[r] \arcof[d] \xypo & C \ar[d] \\
		B \ar[r] & P
	} \]
}

There are other ways to obtain homotopy pushouts. A very general way is given by the \emph{bar construction} \cite{riehl}.

The important property of homotopy pushout we use in this thesis is the uniqueness (up to homotopy). In particular we need the following fact.

\Lemma{cube-lemma}{
	(The cube lemma) Consider the following commuting diagram, where $P$ and $Q$ are the homotopy pushouts of the back and front face respectively.
	\[ \xymatrix @=0.3cm{
		A \ar[rr] \ar[dd] \ar[dr] && A' \ar'[d][dd] \ar[dr] & \\
		& B \ar[rr] \ar[dd] && B' \ar[dd] \\
		A'' \ar'[r][rr] \ar[dr] && P \ar[dr] & \\
		& B'' \ar[rr] && Q
	} \]
	If the three maps $A^\ast \to B^\ast$ are weak equivalences, then so is the map $P \to Q$.
}

If we combine this lemma with \LemmaRef{htpy-pushout-reedy} we obtain precisely Lemma 5.2.6 in \cite{hovey}. We get similar theorems for the dual case of homotopy pullbacks.
